var util = new UtilClass, LegendPanelNC = function () { }; LegendPanelNC.prototype.Create = function (a, b) { this.canL = a, this.ctxL = b, this.flashX = 66, this.flashY = 28 }, LegendPanelNC.prototype.Init = function () { this.ctxL.clearRect(0, 0, this.canL.width, this.canL.height), this.ctxL.fillStyle = pnlBg, this.ctxL.strokeStyle = pnlBg, this.ctxL.save(), util.roundRect(this.ctxL, 0, 0, this.canL.width, this.canL.height, 4, !0, !1), this.ctxL.fillStyle = "LightGray", this.ctxL.font = "9px Segoe UI", this.ctxL.shadowColor = "#000", this.ctxL.shadowBlur = 0, this.ctxL.shadowOffsetX = 1, this.ctxL.shadowOffsetY = 1, this.ctxL.translate(.5, .5), this.ctxL.fillText("Strike age ", this.flashX - 56, this.flashY - 16), this.ctxL.fillStyle = "White"; for (var a = this.flashX, b = 5, d = 0; 6 > d; d++) { var e = "M" + b.toString(), f = StrokeAgeMIN[e] < 1 ? 60 * StrokeAgeMIN[e] : Math.ceil(StrokeAgeMIN[e]).toFixed(), g = StrokeAgeMIN[e] < 1 ? "s" : "m", h = f + g; this.ctxL.fillText(0 == d ? "Now" : "-" + h, a, this.flashY - 16), a += 30, b += 0 == d ? 5 : 4 == d ? 20 : 10 } this.ctxL.fillText("Symbol code ", this.flashX - 56, this.flashY); var i = this.flashX + 6, j = 20; this.ctxL.restore(); for (var k = currentSymSet, d = 0; 6 > d; d++) this.ctxL.drawImage(imgCGN[d + k], i, j), i += 30 };